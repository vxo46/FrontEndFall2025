<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Guess The Word — One File</title>
  <style>
    :root{ --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --accent:#f97316; --good:#22c55e; --bad:#ef4444; --muted:#9ca3af; }
    *{box-sizing:border-box}
    body{ margin:0; min-height:100svh; display:grid; place-items:center; background:radial-gradient(60% 60% at 50% 40%, #0b1220 0%, var(--bg) 100%); color:var(--text); font:16px/1.4 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;}
    .card{ width:min(720px,92vw); background:var(--panel); border:1px solid rgba(255,255,255,.06); border-radius:18px; padding:1.75rem; box-shadow:0 12px 32px rgba(0,0,0,.35); }
    h1{margin:0 0 .25rem; font-size:1.7rem}
    .subtitle{margin:0 0 .25rem; color:var(--muted)}
    .question{margin:.4rem 0 .6rem; font-weight:600}
    .status{margin:.25rem 0 .25rem}
    form{display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; margin:.6rem 0}
    label{font-weight:600}
    #myText{ width:3.2rem; padding:.55rem .6rem; text-align:center; font-size:1.1rem; border-radius:10px; border:1px solid #374151; background:#0b1020; color:var(--text);}
    #myButton,.ghost{ padding:.6rem .9rem; border-radius:10px; border:1px solid #1f2937; background:#111827; color:var(--text); cursor:pointer; transition:transform .04s ease, background .2s ease; }
    #myButton:hover,.ghost:hover{ background:#0f1a2d } #myButton:active,.ghost:active{ transform:translateY(1px) }
    #myButton:disabled{ opacity:.6; cursor:not-allowed } .ghost{opacity:.85}
    .note{ min-height:1.2em; margin:.25rem 0 .2rem; color:var(--muted) } .note.good{color:var(--good)} .note.bad{color:var(--bad)}
    .slots{ display:grid; grid-template-columns:repeat(auto-fit, minmax(54px,1fr)); gap:.6rem; margin:.8rem 0 1rem; }
    .tile{ display:grid; place-items:center; height:64px; border-radius:14px; border:2px dashed #374151; background:#0b1020; font-weight:800; font-size:1.6rem; letter-spacing:.06em; }
    .tile.reveal{ border-color:var(--accent); color:var(--accent) }
    .row{ display:flex; justify-content:space-between; align-items:center; gap:1rem; flex-wrap:wrap }
    .incorrect{ color:var(--bad) } .lives{ color:var(--accent) }
    .shake{ animation:shake .3s linear } @keyframes shake{ 20%{transform:translateX(-4px)} 40%{transform:translateX(4px)} 60%{transform:translateX(-3px)} 80%{transform:translateX(3px)} }
  </style>
</head>
<body>
  <main class="card">
    <h1>Guess the Word</h1>
    <p id="hint" class="subtitle">Theme: Florida nature</p>
    <p id="question" class="question"></p>

    <form id="guessForm" autocomplete="off">
      <label for="myText">Enter a letter:</label>
      <input type="text" id="myText" maxlength="1" />
      <button type="button" id="myButton">Submit</button>
      <button type="button" id="hintBtn" class="ghost">Show hint (–1 try)</button>
      <button type="button" id="resetBtn" class="ghost">Reset</button>
    </form>

    <p class="status"><strong>Tries left:</strong> <span id="triesLeft">6</span></p>
    <p id="note" class="note" aria-live="polite"></p>

    <div id="slots" class="slots" aria-label="letter slots"></div>

    <div class="row">
      <div><strong>Incorrect:</strong> <span id="incorrect" class="incorrect"></span></div>
      <div class="lives"><strong>Lives:</strong> <span id="lives">6</span></div>
    </div>
  </main>

  <script>
    "use strict";
    console.log("Inline JS loaded ✅");

    const WORDS = [
      { word: "ibis",     question: "UM’s bird mascot is which wading bird?", hint: "Mascot bird" },
      { word: "manatee",  question: "What marine mammal is nicknamed the ‘sea cow’?", hint: "Sea cow" },
      { word: "panther",  question: "What big cat represents Florida’s NHL team?", hint: "Florida big cat" },
      { word: "mangrove", question: "What coastal tree stabilizes shorelines with tangled roots?", hint: "Coastal tree" },
      { word: "orchid",   question: "Which flower has many native Everglades species?", hint: "Everglades flower" },
      { word: "egret",    question: "Which tall white wading bird often hunts in shallow water?", hint: "White heron cousin" },
      { word: "tarpon",   question: "Which silver game fish is famous in Florida waters?", hint: "Big silver fish" },
      { word: "sabal",    question: "What palm is Florida’s state tree?", hint: "State tree (____ palm)" }
    ];

    const MAX_LIVES = 6, NEXT_ROUND_DELAY_MS = 1500;

    const textInput = document.getElementById("myText");
    const submitBtn = document.getElementById("myButton");
    const resetBtn  = document.getElementById("resetBtn");
    const hintBtn   = document.getElementById("hintBtn");
    const slotsBox  = document.getElementById("slots");
    const incorrect = document.getElementById("incorrect");
    const livesEl   = document.getElementById("lives");
    const triesLeft = document.getElementById("triesLeft");
    const note      = document.getElementById("note");
    const hintEl    = document.getElementById("hint");
    const questionEl= document.getElementById("question");

    // Guard: make sure elements exist
    if (!textInput || !submitBtn || !slotsBox) {
      alert("Required elements missing. Check IDs: myText, myButton, slots.");
      throw new Error("Missing DOM elements");
    }

    let target="", letters=[], hint="", correctSet=new Set(), wrongSet=new Set();
    let lives=MAX_LIVES, tries=MAX_LIVES, hintUsed=false;

    function startRound(){
      const choice = WORDS[Math.floor(Math.random()*WORDS.length)];
      target = choice.word.toLowerCase();
      hint   = choice.hint;
      letters = [...target];

      correctSet.clear(); wrongSet.clear(); hintUsed=false;
      lives = MAX_LIVES; tries = MAX_LIVES;
      livesEl.textContent = lives; triesLeft.textContent = tries;
      incorrect.textContent=""; setNote("New round!", true);
      hintEl.textContent = "Theme: Florida nature";
      questionEl.textContent = "Question: " + choice.question;

      textInput.disabled = false; submitBtn.disabled=false; hintBtn.disabled=false;

      slotsBox.innerHTML = "";
      letters.forEach(()=> {
        const span = document.createElement("span");
        span.className = "tile";
        span.textContent = "—";
        slotsBox.appendChild(span);
      });

      textInput.value = ""; textInput.focus();
      render();
    }

    function handleGuess(){
      const raw = (textInput.value||"").trim().toLowerCase();
      textInput.value=""; textInput.focus();

      if (!/^[a-z]$/.test(raw)) { setNote("Enter a single letter (A–Z)."); return; }
      if (correctSet.has(raw) || wrongSet.has(raw)) { setNote(`You already tried “${raw}”.`); return; }

      if (letters.includes(raw)) {
        correctSet.add(raw);
        setNote(`Nice! “${raw}” is in the word.`, true);
      } else {
        wrongSet.add(raw);
        lives--; tries--;
        livesEl.textContent = lives; triesLeft.textContent = tries;
        incorrect.textContent = [...wrongSet].join(", ");
        slotsBox.classList.add("shake"); setTimeout(()=>slotsBox.classList.remove("shake"),300);
        setNote(`Nope — “${raw}” is not in the word.`, false);
        if (tries <= 0) { revealAll(); setNote(`Out of tries! The word was ${target.toUpperCase()} ❌`); endRound(); return; }
      }

      render();

      if (letters.every(ch=>correctSet.has(ch))) {
        revealAll(); setNote(`You got it: ${target.toUpperCase()} ✅`, true); endRound();
      }
    }

    function render(){
      [...slotsBox.children].forEach((tile,i)=>{
        const ch = letters[i];
        tile.textContent = correctSet.has(ch) ? ch : "—";
        tile.classList.toggle("reveal", correctSet.has(ch));
      });
    }

    function revealAll(){
      [...slotsBox.children].forEach((tile,i)=>{
        tile.textContent = letters[i];
        tile.classList.add("reveal");
      });
    }

    function endRound(){
      textInput.disabled = true; submitBtn.disabled = true; hintBtn.disabled = true;
      setTimeout(startRound, NEXT_ROUND_DELAY_MS);
    }

    function useHint(){
      if (hintUsed || submitBtn.disabled) return;
      hintUsed = true;
      setNote("Hint: " + hint);
      tries = Math.max(0, tries-1); lives = Math.max(0, lives-1);
      triesLeft.textContent = tries; livesEl.textContent = lives;
      hintBtn.disabled = true;
      if (tries === 0) { revealAll(); setNote(`Out of tries! The word was ${target.toUpperCase()} ❌`); endRound(); }
    }

    function setNote(msg, good){
      note.textContent = msg;
      note.className = "note" + (good ? " good" : (good === false ? " bad" : ""));
      clearTimeout(setNote._t);
      setNote._t = setTimeout(()=>{ note.textContent=""; note.className="note"; }, 1400);
    }

    // wire up events
    submitBtn.addEventListener("click", handleGuess);
    resetBtn.addEventListener("click", startRound);
    hintBtn.addEventListener("click", useHint);
    textInput.addEventListener("keydown", e => { if (e.key==="Enter"){ e.preventDefault(); handleGuess(); } });

    // start
    startRound();
  </script>
</body>
</html>
